# ============================================================================
# PRODUCTION ENVIRONMENT CONFIGURATION
# Riscura RCSA Platform - Production Deployment
# ============================================================================
# 
# IMPORTANT SECURITY NOTES:
# - Never commit actual secrets to version control
# - Use secure secret management (Vercel Environment Variables, HashiCorp Vault, etc.)
# - Rotate secrets regularly (quarterly recommended)
# - Use different secrets for each environment
# - Enable audit logging for secret access
#
# DEPLOYMENT CHECKLIST:
# ☐ All required variables are set with production values
# ☐ Database is backed up before deployment
# ☐ All secrets are properly generated and secure
# ☐ Rate limiting is configured appropriately
# ☐ Monitoring and alerting are configured
# ☐ SSL certificates are valid and current
# ☐ CDN and caching are properly configured
# ============================================================================

# ============================================================================
# ENVIRONMENT IDENTIFICATION
# ============================================================================
NODE_ENV="production"
DEPLOYMENT_ENVIRONMENT="production"
APP_VERSION="1.0.0"
BUILD_TARGET="vercel"

# ============================================================================
# APPLICATION CONFIGURATION
# ============================================================================
# Production URL (REQUIRED - set your actual domain)
NEXTAUTH_URL="https://your-production-domain.com"
APP_URL="https://your-production-domain.com"
VERCEL_URL="https://your-vercel-app.vercel.app"

# Application Settings
PORT=3000
APP_NAME="Riscura RCSA Platform"
APP_DESCRIPTION="Enterprise Risk & Compliance Management"

# ============================================================================
# DATABASE CONFIGURATION (REQUIRED)
# ============================================================================
# Primary Database URL (REQUIRED)
DATABASE_URL="postgresql://username:password@your-prod-db-host:5432/riscura_production?schema=public&sslmode=require"
DIRECT_URL="postgresql://username:password@your-prod-db-host:5432/riscura_production?schema=public&sslmode=require"

# Database Performance (Production Optimized)
DB_CONNECTION_POOL_MIN=10
DB_CONNECTION_POOL_MAX=100
DB_CONNECTION_POOL_ACQUIRE_TIMEOUT=60000
DB_CONNECTION_POOL_IDLE_TIMEOUT=10000
DB_QUERY_TIMEOUT=30000
DB_QUERY_LOGGING="false"

# Read Replicas (Optional but recommended for scale)
DB_ENABLE_READ_REPLICAS="true"
DB_READ_REPLICA_URLS="postgresql://username:password@read-replica:5432/riscura_production"

# ============================================================================
# AUTHENTICATION & SECURITY (REQUIRED)
# ============================================================================
# NextAuth Configuration (REQUIRED)
# Generate with: openssl rand -base64 32
NEXTAUTH_SECRET="REPLACE_WITH_SECURE_32_CHAR_SECRET"

# JWT Secrets (REQUIRED)
# Generate with: openssl rand -base64 32
JWT_ACCESS_SECRET="REPLACE_WITH_SECURE_ACCESS_SECRET"
JWT_REFRESH_SECRET="REPLACE_WITH_SECURE_REFRESH_SECRET"
JWT_SECRET="REPLACE_WITH_SECURE_JWT_SECRET"

# Session & Encryption (REQUIRED)
# Generate with: openssl rand -base64 32
SESSION_SECRET="REPLACE_WITH_SECURE_SESSION_SECRET"
MASTER_ENCRYPTION_KEY="REPLACE_WITH_32_CHAR_ENCRYPTION_KEY"
ENCRYPTION_KEY="REPLACE_WITH_32_CHAR_ENCRYPTION_KEY_2"
# Generate with: openssl rand -base64 16
ENCRYPTION_SALT="REPLACE_WITH_ENCRYPTION_SALT"

# Security Settings
SKIP_EMAIL_VERIFICATION="false"
COOKIE_DOMAIN=".your-domain.com"
CORS_ALLOWED_ORIGINS="https://your-production-domain.com,https://your-vercel-app.vercel.app"

# ============================================================================
# REDIS CONFIGURATION (REQUIRED for production)
# ============================================================================
# Redis URL (REQUIRED for caching and real-time features)
REDIS_URL="redis://username:password@your-redis-host:6379"
REDIS_PASSWORD=""

# Redis Performance Settings
REDIS_CLUSTER_ENABLED="false"
REDIS_CONNECTION_POOL_SIZE=20
REDIS_CACHE_TTL_SHORT=300
REDIS_CACHE_TTL_MEDIUM=3600
REDIS_CACHE_TTL_LONG=86400

# ============================================================================
# EMAIL CONFIGURATION (REQUIRED)
# ============================================================================
# Email Provider Configuration
EMAIL_PROVIDER="sendgrid"
SENDGRID_API_KEY="SG.REPLACE_WITH_SENDGRID_API_KEY"
EMAIL_FROM_ADDRESS="noreply@your-domain.com"
EMAIL_FROM_NAME="Riscura RCSA Platform"

# Alternative SMTP Configuration
SMTP_HOST="smtp.your-provider.com"
SMTP_PORT="587"
SMTP_USER="your-smtp-username"
SMTP_PASS="your-smtp-password"
EMAIL_FROM="noreply@your-domain.com"

# ============================================================================
# AWS CONFIGURATION (REQUIRED for file storage)
# ============================================================================
# AWS Credentials (REQUIRED)
AWS_REGION="us-east-1"
AWS_ACCESS_KEY_ID="REPLACE_WITH_AWS_ACCESS_KEY"
AWS_SECRET_ACCESS_KEY="REPLACE_WITH_AWS_SECRET_KEY"

# S3 Configuration (REQUIRED)
AWS_S3_BUCKET="your-production-documents-bucket"
AWS_S3_REGION="us-east-1"

# ============================================================================
# STRIPE BILLING CONFIGURATION (REQUIRED for billing)
# ============================================================================
# Stripe Keys (REQUIRED - use live keys for production)
STRIPE_SECRET_KEY="sk_live_REPLACE_WITH_LIVE_STRIPE_SECRET"
STRIPE_PUBLISHABLE_KEY="pk_live_REPLACE_WITH_LIVE_STRIPE_PUBLISHABLE"
STRIPE_WEBHOOK_SECRET="whsec_REPLACE_WITH_WEBHOOK_SECRET"

# ============================================================================
# AI CONFIGURATION (REQUIRED for AI features)
# ============================================================================
# OpenAI Configuration (REQUIRED)
# SECURITY: Never expose API keys to client-side
OPENAI_API_KEY="sk-REPLACE_WITH_OPENAI_API_KEY"
AI_MODEL="gpt-4"
AI_MAX_TOKENS="2000"
AI_TEMPERATURE="0.7"

# Client-side AI Feature Flags
NEXT_PUBLIC_ENABLE_AI_FEATURES="true"

# ============================================================================
# MONITORING & OBSERVABILITY (REQUIRED for production)
# ============================================================================
# Sentry Error Tracking (REQUIRED)
SENTRY_DSN="https://REPLACE_WITH_SENTRY_DSN@sentry.io/project-id"
NEXT_PUBLIC_SENTRY_DSN="https://REPLACE_WITH_SENTRY_DSN@sentry.io/project-id"
SENTRY_ORG="your-sentry-org"
SENTRY_PROJECT="riscura-production"
SENTRY_AUTH_TOKEN="REPLACE_WITH_SENTRY_AUTH_TOKEN"

# Application Monitoring
NEXT_PUBLIC_APP_VERSION="1.0.0"
NEXT_PUBLIC_VERCEL_ANALYTICS="true"
WEB_VITALS_ENABLED="true"

# Performance Monitoring
DATADOG_API_KEY="REPLACE_WITH_DATADOG_API_KEY"
NEW_RELIC_LICENSE_KEY="REPLACE_WITH_NEWRELIC_LICENSE"

# ============================================================================
# ALERTING & NOTIFICATIONS (REQUIRED)
# ============================================================================
# Slack Integration (REQUIRED for team notifications)
SLACK_WEBHOOK_URL="https://hooks.slack.com/services/YOUR/WEBHOOK/URL"

# Email Alerts (REQUIRED)
ALERT_EMAIL_RECIPIENTS="ops@your-company.com,admin@your-company.com"

# PagerDuty Integration (Optional but recommended)
PAGERDUTY_ROUTING_KEY="your_pagerduty_integration_key"

# SMS Notifications (Optional)
TWILIO_ACCOUNT_SID="your_twilio_account_sid"
TWILIO_AUTH_TOKEN="your_twilio_auth_token"
TWILIO_PHONE_NUMBER="+1234567890"
ALERT_PHONE_NUMBERS="+1234567890"

# ============================================================================
# RATE LIMITING & SECURITY
# ============================================================================
# Rate Limiting Configuration
RATE_LIMIT_WINDOW_MS="900000"
RATE_LIMIT_MAX_REQUESTS="1000"
RATE_LIMIT_MAX="1000"
RATE_LIMIT_WINDOW="900000"

# File Upload Security
MAX_FILE_SIZE="52428800"
MAX_FILE_SIZE_MB="50"
ALLOWED_FILE_TYPES="pdf,docx,xlsx,txt,csv,jpg,png"
FILE_UPLOAD_VIRUS_SCAN="true"

# ============================================================================
# PERFORMANCE OPTIMIZATION
# ============================================================================
# Caching Configuration
CACHE_TTL="3600"
ENABLE_COMPRESSION="true"

# Memory Management
MEMORY_MANAGEMENT_ENABLED="true"
MEMORY_MAX_USAGE_MB=1000
MEMORY_GC_THRESHOLD_MB=200
MEMORY_AUTO_CLEANUP="true"

# Core Web Vitals
CORE_WEB_VITALS_ENABLED="true"
CORE_WEB_VITALS_SAMPLING_RATE=0.1
CORE_WEB_VITALS_LCP_THRESHOLD=2500
CORE_WEB_VITALS_FID_THRESHOLD=100
CORE_WEB_VITALS_CLS_THRESHOLD=0.1

# Image Optimization
IMAGE_OPTIMIZATION_ENABLED="true"
IMAGE_QUALITY=80
IMAGE_FORMATS="webp,avif,jpeg"

# ============================================================================
# BUSINESS ANALYTICS
# ============================================================================
# Google Analytics (Optional)
GOOGLE_ANALYTICS_ID="G-XXXXXXXXXX"
GA_TRACKING_ID="G-XXXXXXXXXX"

# Mixpanel (Optional)
MIXPANEL_PROJECT_TOKEN="your_mixpanel_token"
NEXT_PUBLIC_MIXPANEL_TOKEN="your_mixpanel_token"

# Hotjar (Optional)
HOTJAR_ID="your_hotjar_id"

# ============================================================================
# EXTERNAL INTEGRATIONS
# ============================================================================
# SharePoint Integration (Optional)
AZURE_AD_TENANT_ID=""
AZURE_AD_CLIENT_ID=""
AZURE_KEY_VAULT_NAME=""
SHAREPOINT_SITE_ID=""

# Google Drive Integration (Optional)
GOOGLE_CLIENT_ID=""
GOOGLE_CLIENT_SECRET=""

# ============================================================================
# FEATURE FLAGS
# ============================================================================
# Core Features
ENABLE_AI_FEATURES="true"
ENABLE_BILLING="true"
ENABLE_REAL_TIME_COLLABORATION="true"
ENABLE_EMAIL_NOTIFICATIONS="true"
ENABLE_SMS_NOTIFICATIONS="true"
ENABLE_SLACK_NOTIFICATIONS="true"

# Advanced Features
FEATURE_REAL_TIME_ANALYTICS="true"
FEATURE_ADVANCED_ALERTING="true"
FEATURE_AUTOMATED_ESCALATION="true"
FEATURE_KNOWLEDGE_BASE="true"

# ============================================================================
# BACKUP & RECOVERY
# ============================================================================
# Backup Configuration
BACKUP_ENABLED="true"
BACKUP_SCHEDULE="0 2 * * *"
BACKUP_RETENTION_DAYS="90"

# ============================================================================
# COMPLIANCE & AUDIT
# ============================================================================
# Compliance Settings
AUDIT_LOGGING_ENABLED="true"
COMPLIANCE_MODE="SOC2"
DATA_RETENTION_DAYS="2555"
PII_ENCRYPTION_ENABLED="true"

# ============================================================================
# HEALTH & MONITORING ENDPOINTS
# ============================================================================
# Health Check Configuration
HEALTH_CHECK_ENDPOINT="/api/health"
METRICS_ENDPOINT="/api/monitoring/dashboard"
SERVER_NAME="riscura-production"

# External Service Monitoring
OPENAI_HEALTH_CHECK_ENABLED="true"
DATABASE_HEALTH_CHECK_ENABLED="true"
REDIS_HEALTH_CHECK_ENABLED="true"
EXTERNAL_SERVICES_HEALTH_CHECK_ENABLED="true"

# ============================================================================
# LOGGING CONFIGURATION
# ============================================================================
# Log Settings
LOG_LEVEL="info"
LOG_FORMAT="json"
NEXT_TELEMETRY_DISABLED="1"

# ============================================================================
# CONTENT SECURITY POLICY
# ============================================================================
# CSP Configuration
CSP_REPORT_URI="https://your-domain.com/api/csp-report"
CSP_REPORT_ONLY="false"

# ============================================================================
# ALERT THRESHOLDS
# ============================================================================
# Performance Alerts
ALERT_MEMORY_USAGE_THRESHOLD=85
ALERT_DB_CONNECTION_THRESHOLD=80
ALERT_LCP_THRESHOLD_MS=2500
ALERT_FID_THRESHOLD_MS=100
ALERT_CLS_THRESHOLD=0.1

# ============================================================================
# DEPLOYMENT TRACKING
# ============================================================================
# Deployment Information (Auto-populated during deployment)
DEPLOYMENT_TIME=""
DEPLOYMENT_COMMIT=""
DEPLOYMENT_BRANCH=""
BUILD_ID=""

# ============================================================================
# SECURITY VALIDATION
# ============================================================================
# Security Checklist (Verify before deployment):
# ☐ All _SECRET variables are properly generated and unique
# ☐ Database credentials are for production database only
# ☐ Stripe keys are LIVE keys (sk_live_, pk_live_)
# ☐ API keys are for production services
# ☐ CORS origins are restricted to production domains
# ☐ Rate limiting is appropriately configured
# ☐ File upload restrictions are in place
# ☐ Audit logging is enabled
# ☐ Error tracking is configured
# ☐ Monitoring and alerting are set up
# ☐ Backup systems are configured
# ☐ SSL certificates are valid
# ☐ Security headers are properly configured